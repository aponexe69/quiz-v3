<!DOCTYPE html>
<html lang="bn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BCIC IT CLUB Online Quiz</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        /* General Body Styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            color: #333;
        }

        /* Main Container */
        .container {
            width: 100%;
            max-width: 800px;
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: all 0.5s ease;
        }

        /* Card-style sections */
        .card {
            padding: 40px;
            opacity: 1;
            transform: scale(1);
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }

        .card.hidden {
            display: none;
            opacity: 0;
            transform: scale(0.95);
        }

        /* Headers */
        h1,
        h2 {
            text-align: center;
            color: #0056b3;
            margin-bottom: 20px;
        }

        /* Entry Form Styles */
        #entry-form .form-group {
            margin-bottom: 20px;
        }

        #entry-form label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }

        #entry-form input[type="text"],
        #entry-form input[type="number"],
        #entry-form input[type="file"],
        #entry-form select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-sizing: border-box;
            transition: border-color 0.3s;
            font-size: 1em;
        }

        #entry-form input:focus,
        #entry-form select:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
        }

        #entry-form .picture-preview {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 10px;
        }

        #entry-form #preview-img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid #ddd;
        }

        /* Quiz Section Styles */
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            font-size: 1.1em;
        }

        .quiz-header #question-counter {
            background-color: #e9ecef;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
        }

        .quiz-header #timer {
            font-size: 1.5em;
            font-weight: bold;
            color: #d9534f;
        }

        #question-text {
            font-size: 1.4em;
            margin-bottom: 30px;
            text-align: center;
            line-height: 1.5;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .option {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
            text-align: left;
        }

        .option:hover {
            background-color: #e2e6ea;
            border-color: #007bff;
        }

        .option.selected {
            background-color: #007bff;
            color: white;
            border-color: #0056b3;
        }

        .option.correct {
            background-color: #28a745;
            color: white;
            border-color: #218838;
        }

        .option.wrong {
            background-color: #dc3545;
            color: white;
            border-color: #c82333;
        }

        /* Results Section Styles */
        #results-card .result-summary {
            text-align: center;
            margin-bottom: 30px;
        }

        #results-card #score-text {
            font-size: 1.8em;
            font-weight: bold;
        }


        /* Buttons */
        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            font-weight: bold;
            color: #fff;
            background: linear-gradient(45deg, #007bff, #0056b3);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            text-decoration: none;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 123, 255, 0.4);
        }

        #download-cert-btn {
            background: linear-gradient(45deg, #28a745, #218838);
            margin-top: 30px;
        }

        #download-cert-btn:hover {
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
        }


        /* Responsive Design */
        @media (max-width: 768px) {
            .card {
                padding: 25px;
            }

            #question-text {
                font-size: 1.2em;
            }

            .option {
                padding: 12px;
                font-size: 1em;
            }

            .quiz-header {
                flex-direction: column;
                gap: 15px;
            }
        }

        @media (min-width: 600px) {
            .options-container {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>

<body>

    <div class="container">
        <div id="entry-card" class="card">
            <h1>BCIC IT CLUB Quiz Challenge</h1>
            <form id="entry-form">
                <div class="form-group">
                    <label for="name">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ (Name):</label>
                    <input type="text" id="name" required>
                </div>
                <div class="form-group">
                    <label for="year">‡¶¨‡¶∞‡ßç‡¶∑ (Year):</label>
                    <select id="year" required style="width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; transition: border-color 0.3s; font-size: 1em;">
                        <option value="">-- ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® (Select) --</option>
                        <option value="1st year">‡ßß‡¶Æ ‡¶¨‡¶∞‡ßç‡¶∑ (1st Year)</option>
                        <option value="2nd year">‡ß®‡¶Ø‡¶º ‡¶¨‡¶∞‡ßç‡¶∑ (2nd Year)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="section">‡¶∂‡¶æ‡¶ñ‡¶æ (Section):</label>
                    <input type="text" id="section" required>
                </div>
                <div class="form-group">
                    <label for="roll">‡¶∞‡ßã‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ (Roll Number):</label>
                    <input type="number" id="roll" required>
                </div>
                <div class="form-group">
                    <label for="picture">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶õ‡¶¨‡¶ø (Picture - Optional):</label>
                    <input type="file" id="picture" accept="image/*">
                    <div class="picture-preview" id="picture-preview-container" style="display: none;">
                        <img id="preview-img" src="" alt="Selected Picture">
                        <span id="file-name"></span>
                    </div>
                </div>
                <button type="submit" class="btn">‡¶ï‡ßÅ‡¶á‡¶ú ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </form>

            <!-- Leaderboard Section on Entry Card -->
            <div style="margin-top: 40px; padding-top: 30px; border-top: 2px solid #e0e0e0;">
                <h2 style="margin-top: 0;">üèÜ Top Rankings</h2>
                <div style="display: flex; gap: 10px; margin-bottom: 20px; justify-content: center;">
                    <button id="entry-year-1st" class="year-selector-btn active" data-year="1st year" style="padding: 10px 20px; border: 2px solid #007bff; background: #007bff; color: white; border-radius: 8px; cursor: pointer; font-weight: bold; transition: all 0.3s;">
                        ‡ßß‡¶Æ ‡¶¨‡¶∞‡ßç‡¶∑ (1st Year)
                    </button>
                    <button id="entry-year-2nd" class="year-selector-btn" data-year="2nd year" style="padding: 10px 20px; border: 2px solid #007bff; background: white; color: #007bff; border-radius: 8px; cursor: pointer; font-weight: bold; transition: all 0.3s;">
                        ‡ß®‡¶Ø‡¶º ‡¶¨‡¶∞‡ßç‡¶∑ (2nd Year)
                    </button>
                </div>
                <div id="entry-leaderboard-container" style="max-height: 400px; overflow-y: auto;">
                    <ol id="entry-leaderboard-ol" style="padding-left: 1.2em; list-style-position: inside;"></ol>
                </div>
            </div>

        </div>

        <div id="quiz-card" class="card hidden">
            <div class="quiz-header">
                <div id="question-counter"></div>
                <div id="timer">20</div>
            </div>
            <div id="question-text"></div>
            <div class="options-container" id="options-container">
            </div>
        </div>

        <div id="results-card" class="card hidden">
            <h2>‡¶ï‡ßÅ‡¶á‡¶ú ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®!</h2>
            <div class="result-summary">
                <p id="score-text">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞: 0</p>
            </div>
            <button id="download-cert-btn" class="btn">‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</button>

        </div>

        <!-- Leaderboard Card -->
        <div id="leaderboard-card" class="card hidden">
            <h2>Leaderboard üèÜ</h2>
            <div style="display: flex; gap: 10px; margin-bottom: 20px; justify-content: center;">
                <button id="leaderboard-year-1st" class="year-selector-btn active" data-year="1st year" style="padding: 10px 20px; border: 2px solid #007bff; background: #007bff; color: white; border-radius: 8px; cursor: pointer; font-weight: bold; transition: all 0.3s;">
                    ‡ßß‡¶Æ ‡¶¨‡¶∞‡ßç‡¶∑ (1st Year)
                </button>
                <button id="leaderboard-year-2nd" class="year-selector-btn" data-year="2nd year" style="padding: 10px 20px; border: 2px solid #007bff; background: white; color: #007bff; border-radius: 8px; cursor: pointer; font-weight: bold; transition: all 0.3s;">
                    ‡ß®‡¶Ø‡¶º ‡¶¨‡¶∞‡ßç‡¶∑ (2nd Year)
                </button>
            </div>
            <div id="leaderboard-container" style="max-height: 500px; overflow-y: auto;">
                <ol id="leaderboard-ol" style="padding-left: 1.2em; list-style-position: inside;"></ol>
            </div>
            <button id="leaderboard-back-btn" class="btn" style="margin-top: 16px;">‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®</button>
        </div>
    </div>

    <script>
        // DOM Elements
        const entryCard = document.getElementById('entry-card');
        const quizCard = document.getElementById('quiz-card');
        const resultsCard = document.getElementById('results-card');

        const entryForm = document.getElementById('entry-form');
        const nameInput = document.getElementById('name');
        const yearInput = document.getElementById('year');
        const sectionInput = document.getElementById('section');
        const rollInput = document.getElementById('roll');
        const pictureInput = document.getElementById('picture');
        const picturePreviewContainer = document.getElementById('picture-preview-container');
        const previewImg = document.getElementById('preview-img');
        const fileNameSpan = document.getElementById('file-name');

        const questionCounter = document.getElementById('question-counter');
        const timerDisplay = document.getElementById('timer');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');

        const scoreText = document.getElementById('score-text');
        const downloadCertBtn = document.getElementById('download-cert-btn');

        // Question Bank (50 Questions)
        const QUESTIONS = [
            { q: "‡¶≠‡¶æ‡¶∞‡ßç‡¶ö‡ßÅ‡ßü‡¶æ‡¶≤ ‡¶∞‡¶ø‡ßü‡ßá‡¶≤‡¶ø‡¶ü‡¶ø‡¶§‡ßá ‡¶ï‡ßÄ ‡¶ß‡¶∞‡¶®‡ßá‡¶∞ ‡¶á‡¶Æ‡ßá‡¶ú ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡ßü?", options: ["‡¶è‡¶ï‡¶Æ‡¶æ‡¶§‡ßç‡¶∞‡¶ø‡¶ï", "‡¶¶‡ßç‡¶¨‡¶ø‡¶Æ‡¶æ‡¶§‡ßç‡¶∞‡¶ø‡¶ï", "‡¶§‡ßç‡¶∞‡¶ø‡¶Æ‡¶æ‡¶§‡ßç‡¶∞‡¶ø‡¶ï", "‡¶ö‡¶§‡ßÅ‡¶∞‡ßç‡¶Æ‡¶æ‡¶§‡ßç‡¶∞‡¶ø‡¶ï"], answer: 2 },
            { q: "Wi-Fi ‡¶è‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶∞‡ßÇ‡¶™ ‡¶ï‡ßÄ?", options: ["Wireless Fidelity", "Wired Fidelity", "Wireless Fiber", "Web Fidelity"], answer: 0 },
            { q: "‡¶ï‡ßã‡¶®‡¶ü‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶á‡¶û‡ßç‡¶ú‡¶ø‡¶® ‡¶®‡ßü?", options: ["Google", "Yahoo", "Bing", "Mozilla Firefox"], answer: 3 },
            { q: "HTML ‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó‡ßá‡¶∞ ‡¶ö‡¶ø‡¶π‡ßç‡¶® ‡¶ï‡ßã‡¶®‡¶ü‡¶ø?", options: ["<>", "{}", "[]", "()"], answer: 0 },
            { q: "C ‡¶≠‡¶æ‡¶∑‡¶æ‡ßü ‡¶™‡ßç‡¶∞‡¶§‡ßç‡¶Ø‡ßá‡¶ï‡¶ü‡¶ø ‡¶∏‡ßç‡¶ü‡ßá‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶∂‡ßá‡¶∑‡ßá ‡¶ï‡ßÄ ‡¶¶‡¶ø‡¶§‡ßá ‡¶π‡ßü?", options: [", (‡¶ï‡¶Æ‡¶æ)", ". (‡¶´‡ßÅ‡¶≤‡¶∏‡ßç‡¶ü‡¶™)", "; (‡¶∏‡ßá‡¶Æ‡¶ø‡¶ï‡ßã‡¶≤‡¶®)", ": (‡¶ï‡ßã‡¶≤‡¶®)"], answer: 2 },
            { q: "‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶ú‡ßá‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø ‡¶ï‡ßÄ?", options: ["‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶°", "‡¶´‡¶ø‡¶≤‡ßç‡¶°", "‡¶ü‡ßá‡¶¨‡¶ø‡¶≤", "‡¶°‡ßá‡¶ü‡¶æ"], answer: 3 },
            { q: "‡¶ï‡ßã‡¶® ‡¶ü‡¶™‡ßã‡¶≤‡¶ú‡¶ø‡¶§‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßç‡¶∞‡ßÄ‡ßü ‡¶π‡¶æ‡¶¨ ‡¶•‡¶æ‡¶ï‡ßá?", options: ["‡¶¨‡¶æ‡¶∏", "‡¶∞‡¶ø‡¶Ç", "‡¶∏‡ßç‡¶ü‡¶æ‡¶∞", "‡¶Æ‡ßá‡¶∂"], answer: 2 },
            { q: "(1011)‚ÇÇ ‡¶è‡¶∞ ‡¶∏‡¶Æ‡¶§‡ßÅ‡¶≤‡ßç‡¶Ø ‡¶°‡ßá‡¶∏‡¶ø‡¶Æ‡ßá‡¶≤ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶ï‡¶§?", options: ["9", "10", "11", "13"], answer: 2 },
            { q: "‡¶ï‡ßÉ‡¶§‡ßç‡¶∞‡¶ø‡¶Æ ‡¶¨‡ßÅ‡¶¶‡ßç‡¶ß‡¶ø‡¶Æ‡¶§‡ßç‡¶§‡¶æ‡¶∞ ‡¶ú‡¶®‡¶ï ‡¶ï‡ßá?", options: ["Charles Babbage", "Alan Turing", "John McCarthy", "Tim Berners-Lee"], answer: 2 },
            { q: "‡¶∞‡ßã‡¶¨‡¶ü‡¶ø‡¶ï‡ßç‡¶∏ ‡¶∂‡¶¨‡ßç‡¶¶‡¶ü‡¶ø ‡¶ï‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá‡¶®?", options: ["Isaac Asimov", "Karel Capek", "George Devol", "William Grey Walter"], answer: 0 },
            { q: "‡¶¨‡¶æ‡ßü‡ßã‡¶á‡¶®‡¶´‡¶∞‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï‡ßç‡¶∏ ‡¶è‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶ï‡ßÄ ‡¶®‡¶ø‡ßü‡ßá?", options: ["‡¶ï‡¶Æ‡ßç‡¶™‡¶ø‡¶â‡¶ü‡¶æ‡¶∞ ‡¶π‡¶æ‡¶∞‡ßç‡¶°‡¶ì‡ßü‡ßç‡¶Ø‡¶æ‡¶∞", "‡¶ú‡ßà‡¶¨‡¶ø‡¶ï ‡¶§‡¶•‡ßç‡¶Ø", "‡¶®‡ßá‡¶ü‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶ï‡¶ø‡¶Ç", "‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ"], answer: 1 },
            { q: "‡¶∏‡¶∞‡ßç‡¶¨‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡ßã‡¶®‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶¶‡ßÇ‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡ßü?", options: ["‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶´", "‡¶ü‡ßá‡¶≤‡¶ø‡¶´‡ßã‡¶®", "‡¶∞‡ßá‡¶°‡¶ø‡¶ì", "‡¶∏‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶≤‡¶æ‡¶á‡¶ü"], answer: 0 },
            { q: "‡¶ï‡ßç‡¶≤‡¶æ‡¶â‡¶° ‡¶ï‡¶Æ‡ßç‡¶™‡¶ø‡¶â‡¶ü‡¶ø‡¶Ç ‡¶è‡¶∞ ‡¶ú‡¶®‡¶ï ‡¶ï‡ßá?", options: ["J.C.R. Licklider", "Steve Jobs", "Bill Gates", "Mark Zuckerberg"], answer: 0 },
            { q: "‡¶°‡ßá‡¶ü‡¶æ ‡¶ï‡¶Æ‡¶ø‡¶â‡¶®‡¶ø‡¶ï‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶Æ‡ßå‡¶≤‡¶ø‡¶ï ‡¶â‡¶™‡¶æ‡¶¶‡¶æ‡¶® ‡¶ï‡ßü‡¶ü‡¶ø?", options: ["‡ß©‡¶ü‡¶ø", "‡ß™‡¶ü‡¶ø", "‡ß´‡¶ü‡¶ø", "‡ß¨‡¶ü‡¶ø"], answer: 2 },
            { q: "NFC ‡¶è‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶∞‡ßÇ‡¶™ ‡¶ï‡ßÄ?", options: ["Near Field Communication", "New Frequency Connection", "Near Frequency Communication", "Network Field Channel"], answer: 0 },
            { q: "OR ‡¶ó‡ßá‡¶ü‡ßá‡¶∞ ‡¶Ü‡¶â‡¶ü‡¶™‡ßÅ‡¶ü 1 ‡¶π‡¶¨‡ßá ‡¶ï‡¶ñ‡¶®?", options: ["‡¶∏‡¶¨ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü 0 ‡¶π‡¶≤‡ßá", "‡¶∏‡¶¨ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü 1 ‡¶π‡¶≤‡ßá", "‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶è‡¶ï‡¶ü‡¶ø ‡¶á‡¶®‡¶™‡ßÅ‡¶ü 1 ‡¶π‡¶≤‡ßá", "‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶è‡¶ï‡¶ü‡¶ø ‡¶á‡¶®‡¶™‡ßÅ‡¶ü 0 ‡¶π‡¶≤‡ßá"], answer: 2 },
            { q: "‡¶è‡¶ï‡¶ü‡¶ø ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤‡ßá‡¶∞ ‡¶∏‡¶æ‡¶∞‡¶ø‡¶ï‡ßá ‡¶ï‡ßÄ ‡¶¨‡¶≤‡¶æ ‡¶π‡ßü?", options: ["‡¶´‡¶ø‡¶≤‡ßç‡¶°", "‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶°", "‡¶è‡¶®‡¶ü‡¶ø‡¶ü‡¶ø", "‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ü‡ßç‡¶∞‡¶ø‡¶¨‡¶ø‡¶â‡¶ü"], answer: 1 },
            { q: "‡¶ì‡ßü‡ßá‡¶¨‡¶™‡ßá‡¶ú ‡¶§‡ßà‡¶∞‡¶ø‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶® ‡¶≠‡¶æ‡¶∑‡¶æ‡¶ü‡¶ø ‡¶Ö‡¶™‡¶∞‡¶ø‡¶π‡¶æ‡¶∞‡ßç‡¶Ø?", options: ["Python", "Java", "HTML", "C++"], answer: 2 },
            { q: "‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶ó‡¶∞‡¶ø‡¶¶‡¶Æ‡ßá‡¶∞ ‡¶∏‡¶ö‡¶ø‡¶§‡ßç‡¶∞ ‡¶∞‡ßÇ‡¶™ ‡¶ï‡ßã‡¶®‡¶ü‡¶ø?", options: ["‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ", "‡¶ï‡ßã‡¶°‡¶ø‡¶Ç", "‡¶´‡ßç‡¶≤‡ßã‡¶ö‡¶æ‡¶∞‡ßç‡¶ü", "‡¶∏‡ßÅ‡¶°‡ßã‡¶ï‡ßã‡¶°"], answer: 2 },
            { q: "‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶¨‡¶æ Global Village ‡¶è‡¶∞ ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ ‡¶ï‡ßá ‡¶¶‡ßá‡¶®?", options: ["Marshall McLuhan", "Norbert Wiener", "Vannevar Bush", "J.C.R. Licklider"], answer: 0 },
            { q: "‡¶ï‡ßç‡¶∞‡¶æ‡ßü‡ßã‡¶∏‡¶æ‡¶∞‡ßç‡¶ú‡¶æ‡¶∞‡¶ø ‡¶ö‡¶ø‡¶ï‡¶ø‡ßé‡¶∏‡¶æ‡ßü ‡¶ï‡ßã‡¶® ‡¶ó‡ßç‡¶Ø‡¶æ‡¶∏ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü?", options: ["‡¶Ö‡¶ï‡ßç‡¶∏‡¶ø‡¶ú‡ßá‡¶®", "‡¶®‡¶æ‡¶á‡¶ü‡ßç‡¶∞‡ßã‡¶ú‡ßá‡¶®", "‡¶π‡¶ø‡¶≤‡¶ø‡ßü‡¶æ‡¶Æ", "‡¶Ü‡¶∞‡ßç‡¶ó‡¶®"], answer: 1 },
            { q: "Bluetooth ‡¶è‡¶∞ ‡¶∞‡ßá‡¶û‡ßç‡¶ú ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ ‡¶ï‡¶§?", options: ["‡ßß-‡ßß‡ß¶ ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞", "‡ß´‡ß¶-‡ßß‡ß¶‡ß¶ ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞", "‡ßß‡ß¶‡ß¶-‡ß®‡ß¶‡ß¶ ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞", "‡ßß ‡¶ï‡¶ø‡¶≤‡ßã‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞"], answer: 0 },
            { q: "‡¶¨‡ßÅ‡¶≤‡¶ø‡ßü‡¶æ‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶ú‡ßá‡¶¨‡¶∞‡¶æ‡ßü ‡¶Æ‡ßå‡¶≤‡¶ø‡¶ï ‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡ßü‡¶ü‡¶ø?", options: ["‡ß®‡¶ü‡¶ø", "‡ß©‡¶ü‡¶ø", "‡ß™‡¶ü‡¶ø", "‡ß´‡¶ü‡¶ø"], answer: 1 },
            { q: "(A+B)' = ?", options: ["A'.B'", "A'+B'", "A.B", "A+B"], answer: 0 },
            { q: "ASCII ‡¶ï‡ßã‡¶° ‡¶ï‡¶§ ‡¶¨‡¶ø‡¶ü‡ßá‡¶∞?", options: ["4", "7", "8", "16"], answer: 1 },
            { q: "HTML ‡¶è ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶¨‡ßú ‡¶π‡ßá‡¶°‡¶ø‡¶Ç ‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó ‡¶ï‡ßã‡¶®‡¶ü‡¶ø?", options: ["<h6>", "<h3>", "<h1>", "<h4>"], answer: 2 },
            { q: "CSS ‡¶è‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶∞‡ßÇ‡¶™ ‡¶ï‡ßÄ?", options: ["Cascading Style Sheets", "Creative Style Sheets", "Computer Style Sheets", "Colorful Style Sheets"], answer: 0 },
            { q: "‡¶ï‡¶Æ‡ßç‡¶™‡¶æ‡¶á‡¶≤‡¶æ‡¶∞ ‡¶ï‡ßÄ?", options: ["‡¶è‡¶ï‡¶ü‡¶ø ‡¶π‡¶æ‡¶∞‡ßç‡¶°‡¶ì‡ßü‡ßç‡¶Ø‡¶æ‡¶∞", "‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶‡¶ï ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ", "‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ", "‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶∏‡¶´‡¶ü‡¶ì‡ßü‡ßç‡¶Ø‡¶æ‡¶∞"], answer: 1 },
            { q: "SQL ‡¶è‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶∞‡ßÇ‡¶™ ‡¶ï‡ßÄ?", options: ["Structured Query Language", "Simple Query Language", "Standard Question Language", "System Query Language"], answer: 0 },
            { q: "‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶ú‡ßá ‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶Æ‡¶æ‡¶∞‡¶ø ‡¶ï‡ßÄ (Primary Key) ‡¶è‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶ï‡ßÄ?", options: ["‡¶°‡ßá‡¶ü‡¶æ ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ", "‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶°‡¶ï‡ßá ‡¶∏‡ßç‡¶¨‡¶§‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶≠‡¶æ‡¶¨‡ßá ‡¶∂‡¶®‡¶æ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ", "‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ", "‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ"], answer: 1 },
            { q: "‡¶π‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç ‡¶ï‡ßÄ?", options: ["‡¶Ö‡¶®‡ßÅ‡¶Æ‡¶§‡¶ø ‡¶õ‡¶æ‡ßú‡¶æ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ‡ßá ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂", "‡¶∏‡¶´‡¶ü‡¶ì‡ßü‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ", "‡¶°‡ßá‡¶ü‡¶æ ‡¶è‡¶®‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ", "‡¶®‡ßá‡¶ü‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶ï ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® ‡¶ï‡¶∞‡¶æ"], answer: 0 },
            { q: "‡¶ü‡ßÅ‡¶á‡¶∏‡ßç‡¶ü‡ßá‡¶° ‡¶™‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶¨‡¶≤‡ßá ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ ‡¶ï‡ßü ‡¶ú‡ßã‡ßú‡¶æ ‡¶§‡¶æ‡¶∞ ‡¶•‡¶æ‡¶ï‡ßá?", options: ["‡ß® ‡¶ú‡ßã‡ßú‡¶æ", "‡ß™ ‡¶ú‡ßã‡ßú‡¶æ", "‡ß¨ ‡¶ú‡ßã‡ßú‡¶æ", "‡ßÆ ‡¶ú‡ßã‡ßú‡¶æ"], answer: 1 },
            { q: "‡¶∏‡¶æ‡¶∞‡ßç‡¶¨‡¶ú‡¶®‡ßÄ‡¶® ‡¶ó‡ßá‡¶ü ‡¶ï‡ßã‡¶®‡¶ü‡¶ø?", options: ["AND, OR", "NOT, XOR", "NAND, NOR", "XNOR, AND"], answer: 2 },
            { q: "‡¶π‡ßá‡¶ï‡ßç‡¶∏‡¶æ‡¶°‡ßá‡¶∏‡¶ø‡¶Æ‡ßá‡¶≤ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø‡¶∞ ‡¶¨‡ßá‡¶∏ ‡¶ï‡¶§?", options: ["2", "8", "10", "16"], answer: 3 },
            { q: "URL ‡¶è‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶∞‡ßÇ‡¶™ ‡¶ï‡ßÄ?", options: ["Uniform Resource Locator", "Universal Resource Link", "Uniform Resource Link", "Universal Record Locator"], answer: 0 },
            { q: "‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶ï‡¶¨‡ßá ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶π‡ßü?", options: ["‡ßß‡ßØ‡ß´‡ßØ", "‡ßß‡ßØ‡ß¨‡ßØ", "‡ßß‡ßØ‡ß≠‡ßØ", "‡ßß‡ßØ‡ßÆ‡ßØ"], answer: 1 },
            { q: "‡¶ï‡ßã‡¶®‡¶ü‡¶ø ‡¶ö‡¶§‡ßÅ‡¶∞‡ßç‡¶• ‡¶™‡ßç‡¶∞‡¶ú‡¶®‡ßç‡¶Æ‡ßá‡¶∞ ‡¶≠‡¶æ‡¶∑‡¶æ (4GL)?", options: ["C", "Java", "SQL", "Machine Language"], answer: 2 },
            { q: "‡¶¨‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶â‡¶á‡¶• ‡¶ï‡ßÄ?", options: ["‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡ßç‡¶∞‡¶¨‡¶æ‡¶π‡ßá‡¶∞ ‡¶π‡¶æ‡¶∞", "‡¶®‡ßá‡¶ü‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶∞ ‡¶ó‡¶§‡¶ø", "‡¶ï‡¶Æ‡ßç‡¶™‡¶ø‡¶â‡¶ü‡¶æ‡¶∞‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç ‡¶ï‡ßç‡¶∑‡¶Æ‡¶§‡¶æ", "‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£‡ßá‡¶∞ ‡¶∏‡ßç‡¶•‡¶æ‡¶®"], answer: 0 },
            { q: "‡¶°‡ßá‡¶ü‡¶æ ‡¶è‡¶®‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶ï‡ßá‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü?", options: ["‡¶ó‡¶§‡¶ø ‡¶¨‡¶æ‡ßú‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø", "‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø", "‡¶°‡ßá‡¶ü‡¶æ ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø", "‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶∏‡¶Ç‡¶∂‡ßã‡¶ß‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø"], answer: 1 },
            { q: "IPv4 ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡ßç‡¶∞‡ßá‡¶∏ ‡¶ï‡¶§ ‡¶¨‡¶ø‡¶ü‡ßá‡¶∞?", options: ["16 bit", "32 bit", "64 bit", "128 bit"], answer: 1 },
            { q: "‡¶ú‡ßá‡¶®‡ßá‡¶ü‡¶ø‡¶ï ‡¶á‡¶û‡ßç‡¶ú‡¶ø‡¶®‡¶ø‡ßü‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶è‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶ú‡¶æ‡¶§‡ßá‡¶∞ ‡¶â‡¶¶‡ßç‡¶≠‡¶ø‡¶¶ ‡¶§‡ßà‡¶∞‡¶ø‡¶§‡ßá ‡¶ï‡ßÄ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü?", options: ["‡¶¨‡¶æ‡ßü‡ßã‡¶Æ‡ßá‡¶ü‡ßç‡¶∞‡¶ø‡¶ï‡ßç‡¶∏", "‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßã‡¶ü‡ßá‡¶ï‡¶®‡ßã‡¶≤‡¶ú‡¶ø", "‡¶°‡¶ø‡¶è‡¶®‡¶è ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø", "‡¶∞‡ßã‡¶¨‡¶ü‡¶ø‡¶ï‡ßç‡¶∏"], answer: 2 },
            { q: "‡¶Ø‡ßá ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡¶ü‡¶ø ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶∏‡¶Ç‡¶ï‡ßá‡¶§‡¶ï‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡¶æ‡¶≤‡¶ó ‡¶∏‡¶Ç‡¶ï‡ßá‡¶§‡ßá ‡¶∞‡ßÇ‡¶™‡¶æ‡¶®‡ßç‡¶§‡¶∞ ‡¶ï‡¶∞‡ßá, ‡¶§‡¶æ‡¶ï‡ßá ‡¶ï‡ßÄ ‡¶¨‡¶≤‡ßá?", options: ["‡¶Æ‡¶°‡ßá‡¶Æ", "‡¶π‡¶æ‡¶¨", "‡¶∏‡ßÅ‡¶á‡¶ö", "‡¶∞‡¶æ‡¶â‡¶ü‡¶æ‡¶∞"], answer: 0 },
            { q: "1 ‡¶¨‡¶æ‡¶á‡¶ü = ‡¶ï‡¶§ ‡¶¨‡¶ø‡¶ü?", options: ["4 ‡¶¨‡¶ø‡¶ü", "8 ‡¶¨‡¶ø‡¶ü", "16 ‡¶¨‡¶ø‡¶ü", "32 ‡¶¨‡¶ø‡¶ü"], answer: 1 },
            { q: "HTML ‡¶è ‡¶≤‡¶æ‡¶á‡¶® ‡¶¨‡ßç‡¶∞‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶® ‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü?", options: ["<break>", "<lb>", "<br>", "<line>"], answer: 2 },
            { q: "for(i=1; i<=5; i++) - ‡¶è‡¶á ‡¶≤‡ßÅ‡¶™‡¶ü‡¶ø ‡¶ï‡¶§‡¶¨‡¶æ‡¶∞ ‡¶ò‡ßÅ‡¶∞‡¶¨‡ßá?", options: ["‡ß™ ‡¶¨‡¶æ‡¶∞", "‡ß´ ‡¶¨‡¶æ‡¶∞", "‡ß¨ ‡¶¨‡¶æ‡¶∞", "‡¶Ö‡¶∏‡ßÄ‡¶Æ ‡¶¨‡¶æ‡¶∞"], answer: 1 },
            { q: "DBMS ‡¶è‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶∞‡ßÇ‡¶™ ‡¶ï‡ßÄ?", options: ["Database Management System", "Data Management Software", "Database Main System", "Data Backup Management System"], answer: 0 },
            { q: "‡¶ï‡ßã‡¶® ‡¶ó‡ßá‡¶ü‡¶ï‡ßá ‡¶á‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ó‡ßá‡¶ü ‡¶¨‡¶≤‡¶æ ‡¶π‡ßü?", options: ["AND", "OR", "NOT", "XOR"], answer: 2 },
            { q: "‡¶Ö‡¶ï‡ßç‡¶ü‡¶æ‡¶≤ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø ‡¶ï‡¶§?", options: ["2", "8", "10", "16"], answer: 1 },
            { q: "‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶´‡ßã‡¶®‡ßá‡¶∞ ‡¶ï‡ßã‡¶® ‡¶™‡ßç‡¶∞‡¶ú‡¶®‡ßç‡¶Æ ‡¶•‡ßá‡¶ï‡ßá ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡ßü?", options: ["‡¶™‡ßç‡¶∞‡¶•‡¶Æ", "‡¶¶‡ßç‡¶¨‡¶ø‡¶§‡ßÄ‡ßü", "‡¶§‡ßÉ‡¶§‡ßÄ‡ßü", "‡¶ö‡¶§‡ßÅ‡¶∞‡ßç‡¶•"], answer: 1 },
            { q: "‡¶á-‡¶ï‡¶Æ‡¶æ‡¶∞‡ßç‡¶∏ ‡¶Æ‡¶æ‡¶®‡ßá ‡¶ï‡ßÄ?", options: ["‡¶á‡¶≤‡ßá‡¶ï‡¶ü‡ßç‡¶∞‡¶®‡¶ø‡¶ï ‡¶ï‡¶Æ‡¶æ‡¶∞‡ßç‡¶∏", "‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶ï‡¶Æ‡¶æ‡¶∞‡ßç‡¶∏", "‡¶è‡¶ï‡ßç‡¶∏‡¶ü‡¶æ‡¶∞‡ßç‡¶®‡¶æ‡¶≤ ‡¶ï‡¶Æ‡¶æ‡¶∞‡ßç‡¶∏", "‡¶á‡¶ú‡¶ø ‡¶ï‡¶Æ‡¶æ‡¶∞‡ßç‡¶∏"], answer: 0 }
        ];

        // Quiz State
        let currentUser = {};
        let quizQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let timer;
        let timeRemaining = 20;



        // Functions
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function startQuiz() {
            // Randomly pick 20 questions
            shuffleArray(QUESTIONS);
            quizQuestions = QUESTIONS.slice(0, 20);

            currentQuestionIndex = 0;
            score = 0;

            // Transition from entry to quiz
            entryCard.classList.add('hidden');
            setTimeout(() => {
                quizCard.classList.remove('hidden');
                loadQuestion();
            }, 500);
        }

        function loadQuestion() {
            if (currentQuestionIndex < quizQuestions.length) {
                // Reset styles and timer
                resetTimer();
                optionsContainer.innerHTML = '';

                const question = quizQuestions[currentQuestionIndex];
                questionCounter.innerText = `‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ${currentQuestionIndex + 1}/${quizQuestions.length}`;
                questionText.innerText = question.q;

                question.options.forEach((option, index) => {
                    const optionElement = document.createElement('button');
                    optionElement.classList.add('option');
                    optionElement.innerText = option;
                    optionElement.addEventListener('click', () => selectAnswer(index, optionElement));
                    optionsContainer.appendChild(optionElement);
                });

                startTimer();
            } else {
                endQuiz();
            }
        }

        function startTimer() {
            timeRemaining = 20;
            timerDisplay.innerText = timeRemaining;
            timer = setInterval(() => {
                timeRemaining--;
                timerDisplay.innerText = timeRemaining;
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    moveToNextQuestion();
                }
            }, 1000);
        }

        function resetTimer() {
            clearInterval(timer);
        }

        function selectAnswer(selectedIndex, selectedElement) {
            resetTimer();
            const question = quizQuestions[currentQuestionIndex];
            const correctIndex = question.answer;

            // Disable all options after one is clicked
            Array.from(optionsContainer.children).forEach(btn => btn.disabled = true);

            if (selectedIndex === correctIndex) {
                score++;
                selectedElement.classList.add('correct');
            } else {
                selectedElement.classList.add('wrong');
                // Highlight the correct answer
                optionsContainer.children[correctIndex].classList.add('correct');
            }

            setTimeout(moveToNextQuestion, 1200); // Wait 1.2s before next question
        }

        function moveToNextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
        }

        function endQuiz() {
            quizCard.classList.add('hidden');
            setTimeout(() => {
                resultsCard.classList.remove('hidden');
                scoreText.innerText = `‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞: ${score}/${quizQuestions.length}`;
            }, 500);
        }

        // Default avatar SVG as data URL
        const defaultAvatar =
            'data:image/svg+xml;base64,' +
            btoa(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"60\" height=\"60\" viewBox=\"0 0 60 60\"><circle cx=\"30\" cy=\"30\" r=\"30\" fill=\"#e0e7ef\"/><circle cx=\"30\" cy=\"24\" r=\"12\" fill=\"#60a5fa\"/><ellipse cx=\"30\" cy=\"44\" rx=\"16\" ry=\"10\" fill=\"#3b82f6\"/></svg>`);

        async function downloadCertificate() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF({
                orientation: 'landscape',
                unit: 'mm',
                format: 'a4'
            });

            // Create sophisticated gradient background
            const gradientSteps = 30;
            for (let i = 0; i < gradientSteps; i++) {
                const intensity = 0.95 - (i * 0.03);
                const r = Math.floor(248 + (i * 0.2));
                const g = Math.floor(250 + (i * 0.1));
                const b = Math.floor(255 - (i * 0.5));
                doc.setFillColor(r, g, b);
                doc.rect(0, 0, 297, 210, 'F');
            }

            // Add geometric pattern background
            doc.setFillColor(240, 248, 255);
            for (let i = 0; i < 15; i++) {
                const x = 20 + (i * 18);
                const y = 20 + (i % 3) * 15;
                doc.circle(x, y, 2, 'F');
            }

            // Main border with modern design
            doc.setLineWidth(4);
            doc.setDrawColor(30, 58, 138); // Deep blue
            doc.rect(20, 20, 257, 170);
            
            // Inner decorative border
            doc.setLineWidth(1);
            doc.setDrawColor(59, 130, 246); // Blue
            doc.rect(25, 25, 247, 160);
            
            // Corner decorative elements
            doc.setFillColor(30, 58, 138);
            // Top corners
            doc.rect(20, 20, 15, 4, 'F');
            doc.rect(262, 20, 15, 4, 'F');
            // Bottom corners
            doc.rect(20, 186, 15, 4, 'F');
            doc.rect(262, 186, 15, 4, 'F');

            // Header section with modern typography
            doc.setFontSize(42);
            doc.setFont('helvetica', 'bold');
            doc.setTextColor(30, 58, 138); // Deep blue
            doc.text('BCIC IT CLUB', doc.internal.pageSize.getWidth() / 2, 50, { align: 'center' });

            // Elegant subtitle with underline
            doc.setFontSize(20);
            doc.setFont('helvetica', 'italic');
            doc.setTextColor(75, 85, 99); // Gray
            doc.text('Certificate of Excellence', doc.internal.pageSize.getWidth() / 2, 65, { align: 'center' });

            // Modern divider with geometric elements
            doc.setLineWidth(3);
            doc.setDrawColor(59, 130, 246);
            doc.line(80, 75, 217, 75);
            
            // Decorative elements
            doc.setFillColor(59, 130, 246);
            doc.circle(90, 75, 2, 'F');
            doc.circle(207, 75, 2, 'F');
            doc.rect(140, 73, 17, 4, 'F');

            // Main content area with modern card design
            doc.setFillColor(248, 250, 252);
            doc.rect(40, 90, 217, 60, 'F');
            
            // Card border
            doc.setLineWidth(1);
            doc.setDrawColor(226, 232, 240);
            doc.rect(40, 90, 217, 60);

            // Add user photo with modern frame (positioned left side)
            let photoToUse = currentUser.picture ? currentUser.picture : defaultAvatar;
            try {
                // Modern photo frame
                doc.setFillColor(255, 255, 255);
                doc.rect(55, 105, 40, 40, 'F');
                doc.setLineWidth(2);
                doc.setDrawColor(59, 130, 246);
                doc.rect(55, 105, 40, 40);
                // Add photo or avatar
                doc.addImage(photoToUse, 'JPEG', 60, 110, 30, 30);
            } catch (e) {
                console.error("Error adding image to PDF: ", e);
            }

            // Certification text (shifted right to avoid photo overlap)
            doc.setFontSize(18);
            doc.setFont('helvetica', 'italic');
            doc.setTextColor(55, 65, 81);
            doc.text('This is to certify that', doc.internal.pageSize.getWidth() / 2 + 30, 110, { align: 'center' });

            // Student name with emphasis
            doc.setFontSize(36);
            doc.setFont('helvetica', 'bold');
            doc.setTextColor(30, 58, 138);
            doc.text(currentUser.name, doc.internal.pageSize.getWidth() / 2 + 30, 130, { align: 'center' });

            // Student details in modern layout
            doc.setFontSize(14);
            doc.setFont('helvetica', 'normal');
            doc.setTextColor(75, 85, 99);
            doc.text(`Year: ${currentUser.year || 'N/A'}`, doc.internal.pageSize.getWidth() / 2 - 50, 145, { align: 'center' });
            doc.text(`Section: ${currentUser.section}`, doc.internal.pageSize.getWidth() / 2 + 10, 145, { align: 'center' });
            doc.text(`Roll: ${currentUser.roll}`, doc.internal.pageSize.getWidth() / 2 + 70, 145, { align: 'center' });

            // Achievement statement
            doc.setFontSize(16);
            doc.setFont('helvetica', 'normal');
            doc.setTextColor(55, 65, 81);
            doc.text('has successfully completed the', doc.internal.pageSize.getWidth() / 2, 165, { align: 'center' });
            
            doc.setFontSize(18);
            doc.setFont('helvetica', 'bold');
            doc.setTextColor(30, 58, 138);
            doc.text('BCIC IT CLUB Quiz Challenge', doc.internal.pageSize.getWidth() / 2, 180, { align: 'center' });

            // Score display with modern badge design
            doc.setFillColor(16, 185, 129); // Green
            doc.rect(120, 190, 57, 20, 'F');
            
            doc.setFontSize(20);
            doc.setFont('helvetica', 'bold');
            doc.setTextColor(255, 255, 255);
            doc.text(`SCORE: ${score}/${quizQuestions.length}`, doc.internal.pageSize.getWidth() / 2, 203, { align: 'center' });

            // Footer with modern layout
            const today = new Date();
            const dateStr = today.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });

            // Date section
            doc.setFillColor(248, 250, 252);
            doc.rect(30, 220, 80, 15, 'F');
            doc.setLineWidth(1);
            doc.setDrawColor(226, 232, 240);
            doc.rect(30, 220, 80, 15);
            
            doc.setFontSize(12);
            doc.setFont('helvetica', 'normal');
            doc.setTextColor(75, 85, 99);
            doc.text(`Date: ${dateStr}`, 70, 230, { align: 'center' });

            // Official seal design
            doc.setFillColor(248, 250, 252);
            doc.rect(187, 220, 80, 15, 'F');
            doc.setLineWidth(1);
            doc.setDrawColor(226, 232, 240);
            doc.rect(187, 220, 80, 15);
            
            // Seal circle
            doc.setLineWidth(2);
            doc.setDrawColor(30, 58, 138);
            doc.circle(227, 227.5, 8);
            
            doc.setFontSize(8);
            doc.setFont('helvetica', 'bold');
            doc.setTextColor(30, 58, 138);
            doc.text('OFFICIAL', 227, 225, { align: 'center' });
            doc.text('SEAL', 227, 228, { align: 'center' });
            doc.text('BCIC IT CLUB', 227, 231, { align: 'center' });

            // Modern tagline
            doc.setFontSize(11);
            doc.setFont('helvetica', 'italic');
            doc.setTextColor(100, 116, 139);
            doc.text('Empowering Students Through Technology', doc.internal.pageSize.getWidth() / 2, 250, { align: 'center' });


            // Add subtle decorative elements
            doc.setFillColor(59, 130, 246);
            // Top decorative line
            doc.rect(20, 20, 257, 2, 'F');
            // Bottom decorative line
            doc.rect(20, 188, 257, 2, 'F');

            // Side decorative elements
            doc.rect(20, 20, 2, 170, 'F');
            doc.rect(275, 20, 2, 170, 'F');

            doc.save(`Certificate-${currentUser.name}.pdf`);
        }


        // Event Listeners
        entryForm.addEventListener('submit', (e) => {
            e.preventDefault();
            currentUser.name = nameInput.value.trim();
            currentUser.year = yearInput.value.trim();
            currentUser.section = sectionInput.value.trim();
            currentUser.roll = rollInput.value.trim();

            if (currentUser.name && currentUser.year && currentUser.section && currentUser.roll) {
                startQuiz();
            } else {
                alert('‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶∏‡¶ï‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
            }
        });

        pictureInput.addEventListener('change', () => {
            const file = pictureInput.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    currentUser.picture = e.target.result;
                    previewImg.src = e.target.result;
                    fileNameSpan.textContent = file.name;
                    picturePreviewContainer.style.display = 'flex';
                };
                reader.readAsDataURL(file);
            }
        });

        downloadCertBtn.addEventListener('click', downloadCertificate);


    </script>

    <!-- Firebase Leaderboard Script -->
    <script type="module">
        // Import Firebase functions
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
        import {
            getFirestore,
            collection,
            addDoc,
            query,
            where,
            orderBy,
            limit,
            getDocs,
            serverTimestamp
        } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js";

        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDwbj7juTPkOS5c24zVgeyvxEjj3cVpbwc",
            authDomain: "bcicquiz-2.firebaseapp.com",
            projectId: "bcicquiz-2",
            storageBucket: "bcicquiz-2.firebasestorage.app",
            messagingSenderId: "1067522885400",
            appId: "1:1067522885400:web:0dea7d27c313f55b18406d",
            measurementId: "G-5DVKJWBRW6"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const scoresCol = collection(db, "scores");

        // Submit score to Firestore
        async function submitScoreToFirestore() {
            try {
                const doc = {
                    name: currentUser.name || "Anonymous",
                    year: currentUser.year || "N/A",
                    section: currentUser.section || "N/A",
                    roll: currentUser.roll || "N/A",
                    score: score,
                    maxScore: quizQuestions.length,
                    picture: currentUser.picture ? currentUser.picture : null,
                    timestamp: serverTimestamp()
                };

                await addDoc(scoresCol, doc);
                console.log("‚úì Score submitted to Firestore");
            } catch (err) {
                console.error("‚ùå Error adding score:", err);
            }
        }

        // Current selected year for leaderboard (default to 1st year)
        let currentLeaderboardYear = "1st year";

        // Load top 10 scores from Firestore filtered by year
        async function loadLeaderboard(limitN = 10, year = currentLeaderboardYear) {
            const ol = document.getElementById("leaderboard-ol");
            if (!ol) {
                console.error("Leaderboard OL element not found");
                return;
            }
            
            try {
                // Query filtered by year, ordered by score
                const q = query(
                    scoresCol, 
                    where("year", "==", year),
                    orderBy("score", "desc"), 
                    limit(limitN * 2)
                ); // Get more to sort by timestamp in JS
                const snap = await getDocs(q);
                ol.innerHTML = "";

                if (snap.empty) {
                    ol.innerHTML = `<li style='color: #999; font-style: italic;'>No scores yet for ${year}. Be the first!</li>`;
                    return;
                }

                // Convert to array and sort by score (desc) then timestamp (asc) in JavaScript
                const scores = [];
                snap.forEach((docSnap) => {
                    const data = docSnap.data();
                    // Handle timestamp - could be Timestamp object, number, or null
                    let timestampMs = 0;
                    if (data.timestamp) {
                        if (data.timestamp.toMillis) {
                            timestampMs = data.timestamp.toMillis();
                        } else if (typeof data.timestamp === 'number') {
                            timestampMs = data.timestamp;
                        } else if (data.timestamp.seconds) {
                            timestampMs = data.timestamp.seconds * 1000;
                        }
                    }
                    scores.push({
                        ...data,
                        timestamp: timestampMs,
                        id: docSnap.id
                    });
                });

                // Sort by score (desc), then by timestamp (asc) for tie-breaking
                scores.sort((a, b) => {
                    if (b.score !== a.score) {
                        return b.score - a.score;
                    }
                    return a.timestamp - b.timestamp;
                });

                // Take top N
                const topScores = scores.slice(0, limitN);

                let rank = 1;
                topScores.forEach((data) => {
                    const li = document.createElement("li");
                    li.style.marginBottom = "16px";
                    li.style.listStyle = "none";

                    const medal = rank === 1 ? "ü•á" : rank === 2 ? "ü•à" : rank === 3 ? "ü•â" : "  ";

                    li.innerHTML = `
                        <div style="display:flex; align-items:center; gap:12px; padding:10px; background:#f8f9fa; border-radius:8px; border-left:4px solid #007bff;">
                            <span style="font-weight:bold; font-size:1.2em; width:30px;">${medal}</span>
                            ${data.picture ? `<img src="${escapeHtml(data.picture)}" alt="" style="width:44px; height:44px; border-radius:50%; object-fit:cover; border:2px solid #ddd;" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgdmlld0JveD0iMCAwIDYwIDYwIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIzMCIgZmlsbD0iI2UwZTdlZiIvPjxjaXJjbGUgY3g9IjMwIiBjeT0iMjQiIHI9IjEyIiBmaWxsPSIjNjBhNWZhIi8+PGVsbGlwc2UgY3g9IjMwIiBjeT0iNDQiIHJ4PSIxNiIgcnk9IjEwIiBmaWxsPSIjM2I4MmY2Ii8+PC9zdmc+';" />` : `<div style="width:44px; height:44px; border-radius:50%; background:#ddd; display:flex; align-items:center; justify-content:center; font-size:1.5em;">üë§</div>`}
                            <div style="flex:1;">
                                <div style="font-weight:700; font-size:1.05em;">${escapeHtml(data.name || 'Anonymous')}</div>
                                <div style="font-size:0.85em; color:#666;">Roll: ${escapeHtml(data.roll || 'N/A')} ‚Ä¢ ${escapeHtml(data.section || 'N/A')}</div>
                            </div>
                            <div style="font-weight:800; font-size:1.3em; color:#0056b3; min-width:60px; text-align:right;">${data.score}/${data.maxScore}</div>
                        </div>
                    `;
                    ol.appendChild(li);
                    rank++;
                });

                console.log("‚úì Leaderboard loaded successfully:", topScores.length, "scores");

            } catch (err) {
                console.error("‚ùå Error loading leaderboard:", err);
                ol.innerHTML = `<li style='color: #dc3545; font-style: italic;'>Error loading leaderboard: ${err.message}. Please check console for details.</li>`;
            }
        }

        // Safe HTML escape
        function escapeHtml(s) {
            if (!s) return "";
            return String(s)
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }

        // Current selected year for entry page leaderboard (default to 1st year)
        let currentEntryLeaderboardYear = "1st year";

        // Load entry page leaderboard on page load
        async function loadEntryPageLeaderboard(year = currentEntryLeaderboardYear) {
            const ol = document.getElementById("entry-leaderboard-ol");
            
            if (!ol) {
                console.error("Entry leaderboard OL element not found");
                return;
            }
            
            try {
                // Query filtered by year, ordered by score
                const q = query(
                    scoresCol, 
                    where("year", "==", year),
                    orderBy("score", "desc"), 
                    limit(20)
                ); // Get more to sort by timestamp in JS
                const snap = await getDocs(q);
                ol.innerHTML = "";

                if (snap.empty) {
                    ol.innerHTML = `<li style='color: #999; font-style: italic;'>No scores yet for ${year}. Be the first!</li>`;
                    return;
                }

                // Convert to array and sort by score (desc) then timestamp (asc) in JavaScript
                const scores = [];
                snap.forEach((docSnap) => {
                    const data = docSnap.data();
                    // Handle timestamp - could be Timestamp object, number, or null
                    let timestampMs = 0;
                    if (data.timestamp) {
                        if (data.timestamp.toMillis) {
                            timestampMs = data.timestamp.toMillis();
                        } else if (typeof data.timestamp === 'number') {
                            timestampMs = data.timestamp;
                        } else if (data.timestamp.seconds) {
                            timestampMs = data.timestamp.seconds * 1000;
                        }
                    }
                    scores.push({
                        ...data,
                        timestamp: timestampMs,
                        id: docSnap.id
                    });
                });

                // Sort by score (desc), then by timestamp (asc) for tie-breaking
                scores.sort((a, b) => {
                    if (b.score !== a.score) {
                        return b.score - a.score;
                    }
                    return a.timestamp - b.timestamp;
                });

                // Take top 10
                const topScores = scores.slice(0, 10);

                let rank = 1;
                topScores.forEach((data) => {
                    const li = document.createElement("li");
                    li.style.marginBottom = "16px";
                    li.style.listStyle = "none";

                    const medal = rank === 1 ? "ü•á" : rank === 2 ? "ü•à" : rank === 3 ? "ü•â" : "  ";

                    li.innerHTML = `
                        <div style="display:flex; align-items:center; gap:12px; padding:10px; background:#f8f9fa; border-radius:8px; border-left:4px solid #007bff;">
                            <span style="font-weight:bold; font-size:1.2em; width:30px;">${medal}</span>
                            ${data.picture ? `<img src="${escapeHtml(data.picture)}" alt="" style="width:44px; height:44px; border-radius:50%; object-fit:cover; border:2px solid #ddd;" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgdmlld0JveD0iMCAwIDYwIDYwIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIzMCIgZmlsbD0iI2UwZTdlZiIvPjxjaXJjbGUgY3g9IjMwIiBjeT0iMjQiIHI9IjEyIiBmaWxsPSIjNjBhNWZhIi8+PGVsbGlwc2UgY3g9IjMwIiBjeT0iNDQiIHJ4PSIxNiIgcnk9IjEwIiBmaWxsPSIjM2I4MmY2Ii8+PC9zdmc+';" />` : `<div style="width:44px; height:44px; border-radius:50%; background:#ddd; display:flex; align-items:center; justify-content:center; font-size:1.5em;">üë§</div>`}
                            <div style="flex:1;">
                                <div style="font-weight:700; font-size:1.05em;">${escapeHtml(data.name || 'Anonymous')}</div>
                                <div style="font-size:0.85em; color:#666;">Roll: ${escapeHtml(data.roll || 'N/A')} ‚Ä¢ ${escapeHtml(data.section || 'N/A')}</div>
                            </div>
                            <div style="font-weight:800; font-size:1.3em; color:#0056b3; min-width:60px; text-align:right;">${data.score}/${data.maxScore}</div>
                        </div>
                    `;
                    ol.appendChild(li);
                    rank++;
                });

                console.log("‚úì Entry page leaderboard loaded successfully:", topScores.length, "scores");

            } catch (err) {
                console.error("‚ùå Error loading entry page leaderboard:", err);
                ol.innerHTML = `<li style='color: #dc3545; font-style: italic;'>Error loading leaderboard: ${err.message}. Please check console for details.</li>`;
            }
        }

        // Show leaderboard UI
        function showLeaderboardUI() {
            resultsCard.classList.add('hidden');
            document.getElementById('leaderboard-card').classList.remove('hidden');
            loadLeaderboard(10, currentLeaderboardYear);
        }

        // Update year selector button styles
        function updateYearSelectorButtons(containerPrefix, selectedYear) {
            const btn1 = document.getElementById(`${containerPrefix}-year-1st`);
            const btn2 = document.getElementById(`${containerPrefix}-year-2nd`);
            
            if (btn1 && btn2) {
                // Reset both buttons
                btn1.classList.remove('active');
                btn2.classList.remove('active');
                btn1.style.background = 'white';
                btn1.style.color = '#007bff';
                btn2.style.background = 'white';
                btn2.style.color = '#007bff';
                
                // Set active button
                const activeBtn = selectedYear === "1st year" ? btn1 : btn2;
                activeBtn.classList.add('active');
                activeBtn.style.background = '#007bff';
                activeBtn.style.color = 'white';
            }
        }

        // Event listeners for entry page year selector buttons
        document.getElementById("entry-year-1st")?.addEventListener('click', () => {
            currentEntryLeaderboardYear = "1st year";
            updateYearSelectorButtons("entry", currentEntryLeaderboardYear);
            loadEntryPageLeaderboard(currentEntryLeaderboardYear);
        });

        document.getElementById("entry-year-2nd")?.addEventListener('click', () => {
            currentEntryLeaderboardYear = "2nd year";
            updateYearSelectorButtons("entry", currentEntryLeaderboardYear);
            loadEntryPageLeaderboard(currentEntryLeaderboardYear);
        });

        // Event listeners for leaderboard card year selector buttons
        document.getElementById("leaderboard-year-1st")?.addEventListener('click', () => {
            currentLeaderboardYear = "1st year";
            updateYearSelectorButtons("leaderboard", currentLeaderboardYear);
            loadLeaderboard(10, currentLeaderboardYear);
        });

        document.getElementById("leaderboard-year-2nd")?.addEventListener('click', () => {
            currentLeaderboardYear = "2nd year";
            updateYearSelectorButtons("leaderboard", currentLeaderboardYear);
            loadLeaderboard(10, currentLeaderboardYear);
        });

        // Wire up back button
        document.getElementById("leaderboard-back-btn").addEventListener('click', () => {
            document.getElementById('leaderboard-card').classList.add('hidden');
            resultsCard.classList.remove('hidden');
        });

        // Add "View Leaderboard" button to results card (if not already there)
        function ensureLeaderboardButton() {
            const btnId = "view-leaderboard-btn";
            if (!document.getElementById(btnId)) {
                const btn = document.createElement("button");
                btn.id = btnId;
                btn.className = "btn";
                btn.style.marginTop = "12px";
                btn.textContent = "üèÜ Leaderboard ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®";
                btn.addEventListener("click", showLeaderboardUI);
                resultsCard.appendChild(btn);
            }
        }

        // Override endQuiz to submit score and add leaderboard button
        const originalEndQuiz = window.endQuiz;
        window.endQuiz = function() {
            originalEndQuiz.call(this);
            
            // Submit score after a short delay to ensure DOM is ready
            setTimeout(() => {
                submitScoreToFirestore();
                ensureLeaderboardButton();
                loadEntryPageLeaderboard(); // Refresh entry page leaderboard
            }, 600);
        };

        // Load leaderboard when page first loads
        window.addEventListener('load', () => {
            setTimeout(() => {
                loadEntryPageLeaderboard();
            }, 1000);
        });

    </script>

</body>

</html>
